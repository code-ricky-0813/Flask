{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}留言板{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>留言板</h1>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-success">
          {% for message in messages %}
            {{ message }}
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {{ wtf.quick_form(form) }}

    <hr>
    <h2>所有留言</h2>
    <ul class="list-group">
        {% for msg in messages %}
        <li class="list-group-item">
            <strong>{{ msg.name }}</strong>: {{ msg.content }}<br>
            <small class="text-muted">{{ msg.timestamp|tw_time }}</small>
        </li>
        {% else %}
        <li class="list-group-item text-muted">目前還沒有留言喔！</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}